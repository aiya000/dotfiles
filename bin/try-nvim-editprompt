#!/bin/bash

# Wrapper script for launching editprompt with nvim.
# See ~/.dotfiles/.tmux.conf

# Load PATH for editprompt and nvim
if [[ -f ~/.bashrc_env ]] ; then
  # shellcheck disable=SC1090
  source ~/.bashrc_env
fi

if ! command -v editprompt > /dev/null 2>&1 ; then
  echo 'Error: editprompt not found. Please install it.'
  read -p 'Press enter to close...'
  exit 1
fi

if ! command -v nvim > /dev/null 2>&1 ; then
  echo 'Error: nvim not found. Please install it.'
  read -p 'Press enter to close...'
  exit 1
fi

# Launch editprompt with nvim
editprompt open --editor nvim "$@" || sleep 600 # `sleep 600` to show error
